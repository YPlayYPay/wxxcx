<!-- 可用组件：https://mp.weixin.qq.com/debug/wxadoc/dev/component/ -->
<scroll-view  class="container row" scroll-y="true">
  <form>
    <view class="row mt20">
      <view class="col s12">
        <text class="text-blue">问卷标题</text>
        <input type="text" class="text-input name-input"/>
      </view>
      <view class="col s12">
        <text class="text-blue">截止日期</text>
        <picker mode="date" value="{{date}}" start="2016/01/01" end="2018/12/31" bindchange="bindDateChange">
          <view class="picker mt20">
            <text>{{date}}</text>
          </view>
          <view class="hr"></view>
        </picker>
      </view>
    </view>
    <view class="row">
      <view class="col s12">
        <text class="text-blue">问卷详情</text>
        <view class="editor">
          <view class="editor-view1">
            <view class="editor-btn1 editor-color-white">
              编辑
            </view>
            <view class="editor-btn1 editor-btn-2">
              预览
            </view>
            <navigator class="editor-btn2">插图</navigator>
          </view>
          <view class="editor-text-wrap">
            <textarea class="editor-text"></textarea>
          </view>
        </view>
        <view class="p ml10 mt20 mb20">
          <checkbox id="private" class="convoke-checkbox1"/>
          <label for="private">设为私有(仅自己可见)</label>
        </view>
      </view>
    </view>
    <view class="row bba">
      <!--选项卡插件-->
      <view class="global-tabs" wx:for="{{groupInfo}}">
        <view class="global-item {{curGroupId==index ? 'active':''}}" bindtap="setQueCurrent" data-idx="{{index}}">{{item.groupName}}<text class="cha" catchtap="bindQueDelete" data-idx="{{index}}">×</text></view>
      </view>
      <view class="global-add" bindtap="handleQueAdd">+</view>
      <!--选项卡插件-->
    </view>
    <view class="row tc">
      <block wx:if="{{flag == 1}}">
        <!--问卷插件-->
        <view class="que-box flex-row-center">
          <view class="que-box-iwrap back-white">
            <view class="que-box-i1" catchtap="bindQueClose">关闭</view>
            <view class="que-box-i2">添加问题</view>
            <view class="que-box-i3">
              <view class="i3-wrap">
                <view class="i3-item" catchtap="chooseQue" data-idx="0">
                  <view class="i3-item-in">单选</view>
                </view>
                <view class="i3-item" catchtap="chooseQue" data-idx="1">
                  <view class="i3-item-in">多选</view>
                </view>
                <view class="i3-item" catchtap="chooseQue" data-idx="2">
                  <view class="i3-item-in">问答</view>
                </view>
                <view class="i3-item" catchtap="chooseQue" data-idx="3">
                  <view class="i3-item-in">程度</view>
                </view>
                <view class="i3-item-last" catchtap="chooseQue" data-idx="4">
                  <view class="i3-item-in">场景题</view>
                </view>
              </view>
            </view>
          </view>
        </view>
            <!--问卷插件-->
      </block>
      <block wx:for="{{content}}">
        <block wx:if="{{item.groupId == curGroupId}}">
          <block wx:if="{{item.sceneId == -1}}">
            <block wx:if="{{item.typeId == 0}}">
              <view class="danxuan">
                <view class="q-index">Q{{index+1}}.</view>
                <view class="q-des">
                  <input type="text" placeholder="单选题描述"/>
                </view>
              </view>
            </block>
            <block wx:if="{{item.typeId == 1}}">
              <view class="duoxuan">
                <view class="q-index">Q{{index+1}}.</view>
              </view>
            </block>
            <block wx:if="{{item.typeId == 2}}">
              <view class="wenda">
                <view class="q-index">Q{{index+1}}.</view>
              </view>
            </block>
            <block wx:if="{{item.typeId == 3}}">
              <view class="cheng">
                <view class="q-index">Q{{index+1}}.</view>
              </view>
            </block>
          </block>
          <block wx:if="{{item.sceneId >= 0}}">
            <view class="changjing">
              {{sceneInfo[item.sceneId].sceneName}}
            </view>
            <block wx:for="{{content}}" wx:for-index="index2" wx:for-item="item2">
              <block wx:if="{{item2.sceneId==item.sceneId}}">
                <block wx:if="{{item2.typeId==0}}">
                  <view class="danxuan">
                    <view class="q-index">Q{{index2+1}}.</view>
                    <view class="q-des">
                      <input type="text" placeholder="单选题描述"/>
                    </view>
                  </view>
                </block>
                <block wx:if="{{item2.typeId==1}}">
                  <view class="duoxuan">
                    <view class="q-index">Q{{index2+1}}.</view>
                  </view>
                </block>
                <block wx:if="{{item2.typeId==2}}">
                  <view class="wenda">
                    <view class="q-index">Q{{index2+1}}.</view>
                  </view>
                </block>

                <block wx:if="{{flag == 2}}">
                  <!--问卷插件2-->
                  <view class="que-scene back-white">
                    <view class="que-scene-i1" catchtap="bindSceneQueClose">关闭</view>
                    <view class="que-scene-i2">添加子问题</view>
                    <view class="que-scene-i3">
                      <view class="button" catchtap="chooseSceneQue" data-idx="0" data-index="{{item2.sceneId}}">
                        <text>单选</text>
                      </view>
                      <view class="button" catchtap="chooseSceneQue" data-idx="1" data-index="{{item2.sceneId}}">
                        <text>多选</text>
                      </view>
                      <view class="button" catchtap="chooseSceneQue" data-idx="2" data-index="{{item2.sceneId}}">
                        <text>问答</text>
                      </view>
                    </view>
                  </view>
                  <!--问卷插件2-->
                </block>
              </block>
            </block>
            <text class="que-text" catchtap="addSceneQue">添加子题目</text>
          </block>
        </block>
      </block>
      <text class="que-text" bindtap="addQuestion">+添加题目</text>
    </view>
  </form>
</scroll-view>
