{"version":3,"sources":["pages/questionnaire/questionnaire.js"],"names":["Page","data","zeroQuestion","idx","currentIdx","flag","date","queTabList","tabName","queList","question","onLoad","onReady","onShow","onHide","onUnload","onPullDownRefresh","bindDateChange","e","setData","detail","value","handleQueAdd","push","bindQueDelete","currentTarget","dataset","splice","length","addQuestion","setQueCurrent","bindQueClose"],"mappings":"AAAA;AACA;;AAEA;AACAA,KAAK;AACH;;;;;AAKAC,QAAM;AACJC,kBAAc,IADV;AAEJC,SAAK,CAAC,CAFF;AAGJC,gBAAY,CAHR;AAIJC,UAAM,CAJF;AAKJC,UAAM,YALF;AAMJC,gBAAY,CACV;AACEC,eAAS,IADX;AAEEC,eAAS;AAFX,KADU,CANR;AAYJC,cAAU;AAZN,GANH;;AAqBH;;;AAGAC,WAAU;AACR;AACD,GA1BE;;AA4BH;;;AAGAC,YAAW;AACT;AACD,GAjCE;;AAmCH;;;AAGAC,WAAU;AACR;AACD,GAxCE;;AA0CH;;;AAGAC,WAAU;AACR;AACD,GA/CE;;AAiDH;;;AAGAC,aAAY;AACV;AACD,GAtDE;;AAwDH;;;AAGAC,sBAAqB;AACnB;AACD,GA7DE;;AA+DH;;;AAGAC,iBAAgBC,CAAhB,EAAmB;AACjB,SAAKC,OAAL,CAAa;AACXb,YAAMY,EAAEE,MAAF,CAASC;AADJ,KAAb;AAGD,GAtEE;;AAwEH;;;AAGAC,eAAcJ,CAAd,EAAiB;AACf,QAAIX,aAAa,KAAKN,IAAL,CAAUM,UAA3B;AACAA,eAAWgB,IAAX,CAAgB;AACdf,eAAS,OAAO,KAAKP,IAAL,CAAUE,GAAV,GAAgB,CAAvB,IAA4B,GADvB;AAEdM,eAAS;AAFK,KAAhB;AAIA,SAAKU,OAAL,CAAa;AACXZ,kBAAYA,UADD;AAEXJ,WAAK,KAAKF,IAAL,CAAUE,GAAV,GAAgB,CAFV;AAGXC,kBAAY,KAAKH,IAAL,CAAUE,GAAV,GAAgB;AAHjB,KAAb;AAKD,GAtFE;;AAwFH;;;AAGAqB,gBAAeN,CAAf,EAAkB;AAChB,QAAIf,MAAMe,EAAEO,aAAF,CAAgBC,OAAhB,CAAwBvB,GAAlC;AACA,QAAII,aAAa,KAAKN,IAAL,CAAUM,UAA3B;AACAA,eAAWoB,MAAX,CAAkBxB,GAAlB,EAAuB,CAAvB;AACA,SAAKgB,OAAL,CAAa;AACXZ,kBAAYA,UADD;AAEXH,kBAAYD,MAAM;AAFP,KAAb;AAIA,QAAII,WAAWqB,MAAX,KAAsB,CAA1B,EAA6B;AAC3B,WAAKT,OAAL,CAAa;AACXhB,aAAK,CAAC;AADK,OAAb;AAGD;AACF,GAxGE;;AA0GH;;;AAGA0B,cAAaX,CAAb,EAAgB;AACd,SAAKC,OAAL,CAAa;AACXd,YAAM;AADK,KAAb;AAGD,GAjHE;;AAmHH;;;AAGAyB,gBAAeZ,CAAf,EAAkB;AAChB,QAAIf,MAAMe,EAAEO,aAAF,CAAgBC,OAAhB,CAAwBvB,GAAlC;AACA,SAAKgB,OAAL,CAAa;AACXf,kBAAYD;AADD,KAAb;AAGD,GA3HE;;AA6HH;;;AAGA4B,eAAcb,CAAd,EAAiB;AACf,QAAId,aAAa,KAAKH,IAAL,CAAUG,UAA3B;AACA,QAAI,KAAKH,IAAL,CAAUM,UAAV,CAAqBH,UAArB,EAAiCK,OAAjC,CAAyCmB,MAAzC,KAAoD,CAAxD,EAA2D;AACzD,WAAKT,OAAL,CAAa;AACXd,cAAM;AADK,OAAb;AAGD,KAJD,MAIO;AACL,WAAKc,OAAL,CAAa;AACXd,cAAM;AADK,OAAb;AAGD;AACF;AA3IE,CAAL","file":"questionnaire.js","sourcesContent":["// 获取全局应用程序实例对象\n// const app = getApp()\n\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   * zeroQuestion没有分组，即0个分组\n   * flag0添加题目 1有自定义问题 2弹出选择问题遮罩层\n   */\n  data: {\n    zeroQuestion: true,\n    idx: -1,\n    currentIdx: 0,\n    flag: 0,\n    date: '2017/01/01',\n    queTabList: [\n      {\n        tabName: '首页',\n        queList: []\n      }\n    ],\n    question: []\n  },\n\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad () {\n    // TODO: onLoad\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  },\n\n  /**\n   * 绑定日期函数\n   */\n  bindDateChange (e) {\n    this.setData({\n      date: e.detail.value\n    })\n  },\n\n  /**\n   * 问卷选项卡添加\n   */\n  handleQueAdd (e) {\n    let queTabList = this.data.queTabList\n    queTabList.push({\n      tabName: '第' + (this.data.idx + 1) + '组',\n      queList: []\n    })\n    this.setData({\n      queTabList: queTabList,\n      idx: this.data.idx + 1,\n      currentIdx: this.data.idx + 1\n    })\n  },\n\n  /**\n   * 问卷选项卡删除\n   */\n  bindQueDelete (e) {\n    let idx = e.currentTarget.dataset.idx\n    let queTabList = this.data.queTabList\n    queTabList.splice(idx, 1)\n    this.setData({\n      queTabList: queTabList,\n      currentIdx: idx - 1\n    })\n    if (queTabList.length === 0) {\n      this.setData({\n        idx: -1\n      })\n    }\n  },\n\n  /**\n   * 添加问题\n   */\n  addQuestion (e) {\n    this.setData({\n      flag: 2\n    })\n  },\n\n  /**\n   * 选项卡点击\n   */\n  setQueCurrent (e) {\n    let idx = e.currentTarget.dataset.idx\n    this.setData({\n      currentIdx: idx\n    })\n  },\n\n  /**\n   * 遮罩层关闭\n   */\n  bindQueClose (e) {\n    var currentIdx = this.data.currentIdx\n    if (this.data.queTabList[currentIdx].queList.length === 0) {\n      this.setData({\n        flag: 0\n      })\n    } else {\n      this.setData({\n        flag: 1\n      })\n    }\n  }\n})\n"]}