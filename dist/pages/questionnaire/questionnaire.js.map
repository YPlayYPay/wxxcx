{"version":3,"sources":["pages/questionnaire/questionnaire.js"],"names":["Page","data","flagAdd","zeroQuestion","idx","currentIdx","flag","date","queTabList","tabName","queList","onLoad","onReady","onShow","onHide","onUnload","onPullDownRefresh","bindDateChange","e","setData","detail","value","handleQueAdd","push","length","bindQueDelete","currentTarget","dataset","splice","addQuestion","setQueCurrent","parseInt","bindQueClose","chooseQue","console","log","typeId","myChoice","important","item","range","sceneId"],"mappings":"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","file":"questionnaire.js","sourcesContent":["// 获取全局应用程序实例对象\n// const app = getApp()\n\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   * zeroQuestion没有分组，即0个分组\n   * flag0添加题目 1有自定义问题 2弹出选择问题遮罩层\n   */\n  data: {\n    flagAdd: 0,\n    zeroQuestion: true,\n    idx: -1,\n    currentIdx: 0,\n    flag: 0,\n    date: '2017/01/01',\n    queTabList: [\n      {\n        tabName: '首页'\n      }\n    ],\n    queList: []\n  },\n\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad () {\n    // TODO: onLoad\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  },\n\n  /**\n   * 绑定日期函数\n   */\n  bindDateChange (e) {\n    this.setData({\n      date: e.detail.value\n    })\n  },\n\n  /**\n   * 问卷选项卡添加\n   */\n  handleQueAdd (e) {\n    let queTabList = this.data.queTabList\n    queTabList.push({\n      tabName: '第' + (this.data.idx + 1) + '组'\n    })\n    this.setData({\n      queTabList: queTabList,\n      idx: this.data.idx + 1,\n      currentIdx: queTabList.length - 1\n    })\n  },\n\n  /**\n   * 问卷选项卡删除\n   */\n  bindQueDelete (e) {\n    let idx = e.currentTarget.dataset.idx\n    let queTabList = this.data.queTabList\n    queTabList.splice(idx, 1)\n    this.setData({\n      queTabList: queTabList,\n      currentIdx: idx - 1\n    })\n    if (queTabList.length === 0) {\n      this.setData({\n        idx: -1\n      })\n    }\n  },\n\n  /**\n   * 添加问题\n   */\n  addQuestion (e) {\n    this.setData({\n      flag: 2\n    })\n  },\n\n  /**\n   * 选项卡点击\n   * flagAll标志组下没题目则为true\n   */\n  setQueCurrent (e) {\n    let idx = parseInt(e.currentTarget.dataset.idx)\n    this.setData({\n      currentIdx: idx\n    })\n  },\n\n  /**\n   * 遮罩层关闭\n   */\n  bindQueClose (e) {\n    if (this.data.queList.length === 0) {\n      this.setData({\n        flag: 0\n      })\n    } else {\n      this.setData({\n        flag: 1\n      })\n    }\n  },\n\n  /**\n   * 题目添加\n   */\n  chooseQue (e) {\n    var idx = parseInt(e.currentTarget.dataset.idx)\n    console.log(idx)\n    switch (idx) {\n      case 0:\n        this.data.queList.push({\n          currentIdx: this.data.currentIdx,\n          typeId: 0,\n          myChoice: false,\n          important: true,\n          item: ['12434', '21344123'],\n          range: [1, 10],\n          sceneId: 0\n        })\n        this.setData({\n          queList: this.data.queList,\n          flag: 1\n        })\n        break\n      case 1:\n        this.data.queList.push({\n          currentIdx: this.data.currentIdx,\n          typeId: 1,\n          myChoice: false,\n          important: true,\n          item: ['12434', '21344123'],\n          range: [1, 10],\n          sceneId: 0\n        })\n        this.setData({\n          queList: this.data.queList,\n          flag: 1\n        })\n        break\n      case 2:\n        this.data.queList.push({\n          currentIdx: this.data.currentIdx,\n          typeId: 2,\n          myChoice: false,\n          important: true,\n          item: ['12434', '21344123'],\n          range: [1, 10],\n          sceneId: 0\n        })\n        this.setData({\n          queList: this.data.queList,\n          flag: 1\n        })\n        break\n      case 3:\n        this.data.queList.push({\n          currentIdx: this.data.currentIdx,\n          typeId: 3,\n          myChoice: false,\n          important: true,\n          item: ['12434', '21344123'],\n          range: [1, 10],\n          sceneId: 0\n        })\n        this.setData({\n          queList: this.data.queList,\n          flag: 1\n        })\n        break\n      case 4:\n        this.data.queList.push({\n          currentIdx: this.data.currentIdx,\n          typeId: 4,\n          myChoice: false,\n          important: true,\n          item: ['12434', '21344123'],\n          range: [1, 10],\n          sceneId: 0\n        })\n        this.setData({\n          queList: this.data.queList,\n          flag: 1\n        })\n        break\n    }\n  }\n})\n"]}