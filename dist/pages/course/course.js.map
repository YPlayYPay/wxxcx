{"version":3,"sources":["pages/course/course.js"],"names":["app","getApp","Page","data","title","switchFlag","newWarn","commentOn","hasComment","seeFlag","editFlag","warnList","time","text","list","rowId","name","year","season","lessons","idx","alreadyCome","shouldCome","commentList","nickName","content","onLoad","query","getUserInfo","userInfo","setData","loading","console","log","i","length","course","onReady","onShow","onHide","onUnload","onPullDownRefresh","switchNav","e","currentTarget","dataset","createNewWarn","returnWarn","startComment","endComment","addComment","seeCourse","checkoutCome","memberReturn","handleEdit","handleComplete","ccReturn","handleReply","turnToCourseList","toMemberlist","wx","navigateTo","url"],"mappings":"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","file":"course.js","sourcesContent":["// 获取全局应用程序实例对象\nconst app = getApp()\n\n// 创建页面实例对象\nPage({\n  /**\n   * 页面的初始数据\n   */\n  data: {\n    title: 'course',\n    switchFlag: 0,\n    newWarn: 0,\n    commentOn: 0,\n    hasComment: 0,\n    seeFlag: 0,\n    editFlag: 0,\n    warnList: [\n      {\n        time: '2017-01-04 13:56',\n        text: 'test1'\n      }\n    ],\n    list: [\n      {\n        rowId: 'x1',\n        name: '测试课程1',\n        year: '2017',\n        season: '夏'\n      },\n      {\n        rowId: 'x2',\n        name: '测试课程2',\n        year: '2017',\n        season: '夏'\n      }\n    ],\n    lessons: [\n      {\n        idx: 0,\n        alreadyCome: 20,\n        shouldCome: 20\n      }\n    ],\n    commentList: [\n      {\n        nickName: '爪爪',\n        time: '2017-01-05 11:29',\n        content: '123213'\n      },\n      {\n        nickName: '爪爪2',\n        time: '2017-01-05 13:29',\n        content: '12323333'\n      }\n    ]\n  },\n\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad (query) {\n    // TODO: onLoad\n    app.getUserInfo((userInfo) => {\n      this.setData({\n        userInfo: userInfo,\n        loading: false\n      })\n    })\n    let list = this.data.list\n    console.log(query.rowId)\n    for (let i = 0; i < list.length; i++) {\n      if (list[i].rowId === query.rowId) {\n        this.setData({\n          course: list[i]\n        })\n      }\n    }\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady () {\n    // TODO: onReady\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow () {\n    // TODO: onShow\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide () {\n    // TODO: onHide\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload () {\n    // TODO: onUnload\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh () {\n    // TODO: onPullDownRefresh\n  },\n\n  /**\n   * 导航切换\n   */\n  switchNav (e) {\n    this.setData({\n      switchFlag: e.currentTarget.dataset.idx\n    })\n  },\n\n  /**\n   * 新建通知\n   */\n  createNewWarn (e) {\n    this.setData({\n      newWarn: 1\n    })\n  },\n\n  /**\n   * 新建通知\n   */\n  returnWarn (e) {\n    this.setData({\n      newWarn: 0\n    })\n  },\n\n  /**\n   * 开启评论\n   */\n  startComment (e) {\n    this.setData({\n      commentOn: 1\n    })\n  },\n\n  /**\n   * 关闭评论\n   */\n  endComment (e) {\n    this.setData({\n      commentOn: 0\n    })\n  },\n  /**\n   * 新评论\n   */\n  addComment (e) {\n    this.setData({\n      hasComment: 1\n    })\n  },\n\n  /**\n   * 查看当节课程\n   */\n  seeCourse (e) {\n    this.setData({\n      seeFlag: 1\n    })\n  },\n\n  /**\n   * 开始上课（点名）\n   */\n  checkoutCome (e) {\n    this.setData({\n      seeFlag: 2\n    })\n  },\n\n  /**\n   * 查看当节课程后返回/点名后返回\n   */\n  memberReturn (e) {\n    this.setData({\n      seeFlag: 0\n    })\n  },\n\n  /**\n   * 简介编辑\n   */\n  handleEdit (e) {\n    this.setData({\n      editFlag: 1\n    })\n  },\n\n  /**\n   * 简介完成\n   */\n  handleComplete (e) {\n    this.setData({\n      editFlag: 0\n    })\n  },\n\n  /**\n   * 评论返回／取消回复\n   */\n  ccReturn (e) {\n    if (this.data.commentList.length === 0) {\n      this.setData({\n        hasComment: 0\n      })\n    } else {\n      this.setData({\n        hasComment: 2\n      })\n    }\n  },\n\n  /**\n   * 评论返回／取消回复\n   */\n  handleReply (e) {\n    this.setData({\n      hasComment: 3\n    })\n  },\n\n  /**\n   * 跳到课次列表\n   */\n  turnToCourseList (e) {\n    this.setData({\n      switchFlag: 3\n    })\n  },\n\n  /**\n   * 跳转至成员列表\n   */\n  toMemberlist (e) {\n    wx.navigateTo({\n      url: '../memberlist/memberlist'\n    })\n  }\n})\n"]}