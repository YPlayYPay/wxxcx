{"version":3,"sources":["app.js"],"names":["wechat","require","ancademy","App","data","name","version","userInfo","getUserInfo","cb","onLaunch","console","log","that","login","then","userinfo","catch","err","onShow","onHide"],"mappings":"AAAA;;;;;;AAMA,MAAMA,SAASC,QAAQ,mBAAR,CAAf;;AAEA;;;;AAIA,MAAMC,WAAWD,QAAQ,qBAAR,CAAjB;;AAEAE,IAAI;AACF;;;;AAIAC,QAAM;AACJC,UAAM,WADF;AAEJC,aAAS,OAFL;AAGJC,cAAU;AAHN,GALJ;;AAWF;;;AAGAP,UAAQA,MAdN;;AAgBF;;;AAGAE,YAAUA,QAnBR;;AAqBFM,cAAaC,EAAb,EAAiB;AACfA,OAAG,KAAKL,IAAL,CAAUG,QAAb;AACD,GAvBC;;AAyBF;;;;AAIAG,aAAY;AACVC,YAAQC,GAAR,CAAY,iDAAZ;AACA,QAAIC,OAAO,IAAX;AACA,SAAKX,QAAL,CAAcY,KAAd,GAAsBC,IAAtB,CAA4BC,QAAD,IAAc;AACvCL,cAAQC,GAAR,CAAYI,QAAZ;AACAH,WAAKT,IAAL,CAAUG,QAAV,GAAqBS,QAArB;AACD,KAHD,EAGGC,KAHH,CAGUC,GAAD,IAAS;AAChBP,cAAQC,GAAR,CAAYM,GAAZ;AACD,KALD;AAMD,GAtCC;AAuCF;;;;AAIAC,WAAU;AACRR,YAAQC,GAAR,CAAY,+CAAZ;AACD,GA7CC;AA8CF;;;;AAIAQ,WAAU;AACRT,YAAQC,GAAR,CAAY,4CAAZ;AACD;AApDC,CAAJ","file":"app.js","sourcesContent":["/**\n * WeChat API 模块\n * @type {Object}\n * 用于将微信官方`API`封装为`Promise`方式\n * > 小程序支持以`CommonJS`规范组织代码结构\n */\nconst wechat = require('./utils/wechat.js')\n\n/**\n * Ancademy API 模块\n * @type {Object}\n */\nconst ancademy = require('./utils/ancademy.js')\n\nApp({\n  /**\n   * Global shared\n   * 可以定义任何成员，用于在整个应用中共享\n   */\n  data: {\n    name: 'Ancademy+',\n    version: '0.1.0',\n    userInfo: {}\n  },\n\n  /**\n   * WeChat API\n   */\n  wechat: wechat,\n\n  /**\n   * ancademy API\n   */\n  ancademy: ancademy,\n\n  getUserInfo (cb) {\n    cb(this.data.userInfo)\n  },\n\n  /**\n   * 生命周期函数--监听小程序初始化\n   * 当小程序初始化完成时，会触发 onLaunch（全局只触发一次）\n   */\n  onLaunch () {\n    console.log(' ========== Application is launched ========== ')\n    var that = this\n    this.ancademy.login().then((userinfo) => {\n      console.log(userinfo)\n      that.data.userInfo = userinfo\n    }).catch((err) => {\n      console.log(err)\n    })\n  },\n  /**\n   * 生命周期函数--监听小程序显示\n   * 当小程序启动，或从后台进入前台显示，会触发 onShow\n   */\n  onShow () {\n    console.log(' ========== Application is showed ========== ')\n  },\n  /**\n   * 生命周期函数--监听小程序隐藏\n   * 当小程序从前台进入后台，会触发 onHide\n   */\n  onHide () {\n    console.log(' ========== Application is hid ========== ')\n  }\n})\n"]}